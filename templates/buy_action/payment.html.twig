{% extends 'base.html.twig' %}

{% block title %}Checkout{% endblock %}

{% block body %}
    <div class="wrapper_cart">
        <h1>Checkout</h1>
        <div class="project">
            <div class="shop">
                {% if cart|length > 0 %}
                <div class="box_payment">
                    {% for product in cart %}
                <img src="{{ asset('images/products/' ~ product.product.image) }}"
                     alt="{{ product.product.shortcut }}">
                    <div class="content_payment">
                        <div class="row">
                            <h3>{{ product['product'].title }}</h3>
                            <h3 class="left_side">x {{ product ['quantity'] }}</h3>
                        </div>
                        <h4>{{ product ['total'] }} €</h4>
                    </div>
                    {% endfor %}

                </div>
                {% else %}
                    <hr>
                    <h4 class="mt-20">Your cart is empty !</h4>
                {% endif %}
            </div>

            {# COTE DROIT DU PANIER #}
            <div class="right_bar_adresse">
                <p><span>Subtotal</span> <span> 7000 €</span></p>
                <hr>
                <p class="codeValid">Coupon Code DISCOUNT20 : -15%</p>
                <hr>
                <p class="total_price mt-20"><span>TOTAL</span> <span>7000€</span></p>
                <h3>Delivery</h3>
                <div class="small_card">
                    {% set formhtml %}
                        {{ form(form2) }}
                    {% endset %}
                    {# Avec le replace je viens remplacer les [br] de ma public function dans mon entity AdressesType par des
                    </br> html et le raw veut dire interprete moi le html #}
                    {{ formhtml|replace({'[br]' : '</br>'})|raw }}

                </div>
                <a class="button" href="#">Checkout</a>
            </div>
        </div>
    </div>
    {% block footer %}
        {% include 'footer.html.twig' %}
    {% endblock %}
{% endblock %}